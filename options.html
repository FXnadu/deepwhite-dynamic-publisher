<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Deepwhite Publisher Settings</title>
<link rel="stylesheet" href="css/common.css" />
<style>
.field .hint {
  margin-top: 4px;
}

#savedHint {
  transition: color var(--transition-fast);
}
</style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="brand">
        <h1 class="title">Settings</h1>
        <p class="subtitle">github repo & journal path</p>
      </div>
      <div class="actions">
        <button class="btn btn-primary" id="save">保存</button>
      </div>
    </div>

    <div class="row">
      <div class="field">
        <div class="label">Repo Owner</div>
        <input 
          class="input" 
          id="repoOwner" 
          placeholder="FXnadu" 
          autocomplete="off"
          required
        />
        <div class="hint">GitHub 仓库所有者用户名</div>
      </div>
      <div class="field">
        <div class="label">Repo Name</div>
        <input 
          class="input" 
          id="repoName" 
          placeholder="deepwhite-11ty" 
          autocomplete="off"
          required
        />
        <div class="hint">GitHub 仓库名称</div>
      </div>
    </div>

    <div class="row">
      <div class="field">
        <div class="label">Branch</div>
        <input 
          class="input" 
          id="branch" 
          placeholder="main" 
          autocomplete="off"
          required
        />
        <div class="hint">Git 分支名称</div>
      </div>
      <div class="field">
        <div class="label">Target Dir</div>
        <input 
          class="input" 
          id="targetDir" 
          placeholder="src/content/posts/dynamic/journals" 
          autocomplete="off"
          required
        />
        <div class="hint">动态页集合来源目录：src/content/posts/dynamic/journals（文件名 YYYY-MM-DD.md）</div>
      </div>
    </div>

    <div class="row">
      <div class="field">
        <div class="label">Commit Prefix</div>
        <input 
          class="input" 
          id="commitPrefix" 
          placeholder="dynamic:" 
          autocomplete="off"
        />
        <div class="hint">Git 提交信息前缀</div>
      </div>
      <div class="field">
        <div class="label">Mode</div>
        <select class="input" id="mode">
          <option value="simulate">模拟（不推送）</option>
          <option value="local-only">仅本地保存</option>
          <option value="local-and-push">本地保存并推送</option>
        </select>
        <div class="hint">选择发表行为：仅模拟、本地保存，或本地保存并推送到 GitHub。</div>
      </div>
    </div>

    <div class="row">
      <div class="field">
        <div class="label">Local Folder</div>
        <div style="display:flex; gap:8px; align-items:center;">
          <button class="btn" id="pickFolder">选择文件夹</button>
          <button class="btn" id="clearFolder">清除</button>
          <div id="folderName" class="hint" style="margin-left:8px;"></div>
        </div>
        <div class="hint">选择本地目标文件夹（浏览器文件系统访问 API）。用于本地创建 md 文件。</div>
      </div>
      <div class="field">
        <div class="label">GitHub Token</div>
        <input 
          class="input" 
          id="githubToken" 
          placeholder="个人访问令牌（PAT）" 
          autocomplete="off"
          type="password"
        />
        <div class="hint">用于推送到 GitHub（建议只在本地保管）。仅当 Mode 选择“真实推送”时使用。</div>
      </div>
    </div>

    <div class="footer">
      <div class="hint" id="savedHint"></div>
      <div class="hint">UI 基于站点 style.css 变量：白底、细边框、胶囊按钮</div>
    </div>
  </div>
<script type="module" src="js/options.js"></script>
</body>
</html>
